{
  "info": {"name": "Runs, Plans, Applies Collection", "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json", "description": "Operations: Runs, Plans, Applies"},
    
  "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{API_TOKEN}}","type":"string"}]},
  "item": [
    {"name":"Runs","item":[
      {"name":"Create Run","request":{"method":"POST","description":"Queue a new run for a workspace.","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": {\n    \"type\": \"runs\",\n    \"attributes\": {\n      \"message\": \"Queued via API\",\n      \"auto-apply\": false,\n      \"refresh\": true\n    },\n    \"relationships\": {\n      \"workspace\": {\n        \"data\": { \n          \"type\": \"workspaces\", \n          \"id\": \"{{WORKSPACE_ID}}\" \n        }\n      }\n    }\n  }\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/runs","host":["{{BASE_URL}}"],"path":["api","v2","runs"]}}},
      {"name":"Get Run Details","request":{"method":"GET","description":"Get details for a run by ID (includes relationships).","url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}"]}}},
      {"name":"List Runs (Workspace)","request":{"method":"GET","description":"List runs for a workspace.","url":{"raw":"https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/runs","host":["{{BASE_URL}}"],"path":["api","v2","workspaces","{{WORKSPACE_ID}}","runs"]}}},
      {"name":"List Runs (Organization)","request":{"method":"GET","description":"List runs across an organization.","url":{"raw":"https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/runs","host":["{{BASE_URL}}"],"path":["api","v2","organizations","{{ORG_NAME}}","runs"]}}},
      {"name":"Apply Run","request":{"method":"POST","description":"Apply a run that is in the planned state.","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"comment\": \"Apply via API\"\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/actions/apply","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","actions","apply"]}}},
      {"name":"Discard Run","request":{"method":"POST","description":"Discard a run that should not be applied.","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"comment\": \"Discard via API\"\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/actions/discard","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","actions","discard"]}}},
      {"name":"Cancel Run","request":{"method":"POST","description":"Cancel a run that is in progress.","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"comment\": \"Cancel via API\"\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/actions/cancel","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","actions","cancel"]}}},
      {"name":"Force Cancel Run","request":{"method":"POST","description":"Force-cancel a run that cannot be cleanly canceled.","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"comment\": \"Force cancel via API\"\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/actions/force-cancel","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","actions","force-cancel"]}}},
      {"name":"Force Execute Run","request":{"method":"POST","description":"Force execution of a run, bypassing some checks.","url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/actions/force-execute","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","actions","force-execute"]}}}
    ]},
    {"name":"Plans","item":[
      {"name":"Show Plan","request":{"method":"GET","description":"Get details for a plan by ID.","url":{"raw":"https://{{BASE_URL}}/api/v2/plans/{{PLAN_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","plans","{{PLAN_ID}}"]}}},
      {"name":"Plan JSON Output (by Plan)","request":{"method":"GET","description":"Retrieve the full plan JSON output (requires entitlement).","url":{"raw":"https://{{BASE_URL}}/api/v2/plans/{{PLAN_ID}}/json-output","host":["{{BASE_URL}}"],"path":["api","v2","plans","{{PLAN_ID}}","json-output"]}}},
      {"name":"Plan JSON Output (by Run)","request":{"method":"GET","description":"Retrieve the plan JSON output via the run.","url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/plan/json-output","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","plan","json-output"]}}},
      {"name":"Sanitized Plan (by Plan)","request":{"method":"GET","description":"Download the sanitized plan file for the plan.","url":{"raw":"https://{{BASE_URL}}/api/v2/plans/{{PLAN_ID}}/sanitized-plan","host":["{{BASE_URL}}"],"path":["api","v2","plans","{{PLAN_ID}}","sanitized-plan"]}}},
      {"name":"Sanitized Plan (by Run)","request":{"method":"GET","description":"Download the sanitized plan file via the run.","url":{"raw":"https://{{BASE_URL}}/api/v2/runs/{{RUN_ID}}/plan/sanitized-plan","host":["{{BASE_URL}}"],"path":["api","v2","runs","{{RUN_ID}}","plan","sanitized-plan"]}}}
    ]},
    {"name":"Applies","item":[
      {"name":"Show Apply","request":{"method":"GET","description":"Get details for an apply by ID.","url":{"raw":"https://{{BASE_URL}}/api/v2/applies/{{APPLY_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","applies","{{APPLY_ID}}"]}}},
      {"name":"Recover Errored State (Redirect)","request":{"method":"GET","description":"Redirect to a download of the apply's errored state to aid recovery.","url":{"raw":"https://{{BASE_URL}}/api/v2/applies/{{APPLY_ID}}/errored-state","host":["{{BASE_URL}}"],"path":["api","v2","applies","{{APPLY_ID}}","errored-state"]}}}
    ]}
  ]
}
