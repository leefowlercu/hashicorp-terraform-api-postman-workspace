{
  "info": {"name": "HCP Terraform - Variable Sets", "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json", "description": "Variable Sets API endpoints"},
  "variable": [
    {"key":"BASE_URL","value":"{{BASE_URL}}"},
    {"key":"ORG_NAME","value":"{{ORG_NAME}}"},
    {"key":"PROJECT_ID","value":"{{PROJECT_ID}}"},
    {"key":"WORKSPACE_ID","value":"{{WORKSPACE_ID}}"},
    {"key":"VARSET_ID","value":"{{VARSET_ID}}"},
    {"key":"VAR_ID","value":"{{VAR_ID}}"}
  ],
  "auth": {"type":"bearer","bearer":[{"key":"token","value":"{{API_TOKEN}}","type":"string"}]},
  "item": [
    {"name":"List Varsets (Organization)","request":{"method":"GET","url":{"raw":"https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/varsets?page[number]=1&page[size]=20","host":["{{BASE_URL}}"],"path":["api","v2","organizations","{{ORG_NAME}}","varsets"],"query":[{"key":"page[number]","value":"1"},{"key":"page[size]","value":"20"}]}}},
    {"name":"List Varsets (Project)","request":{"method":"GET","url":{"raw":"https://{{BASE_URL}}/api/v2/projects/{{PROJECT_ID}}/varsets?page[number]=1&page[size]=20","host":["{{BASE_URL}}"],"path":["api","v2","projects","{{PROJECT_ID}}","varsets"],"query":[{"key":"page[number]","value":"1"},{"key":"page[size]","value":"20"}]}}},
    {"name":"List Varsets (Workspace)","request":{"method":"GET","url":{"raw":"https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/varsets?page[number]=1&page[size]=20","host":["{{BASE_URL}}"],"path":["api","v2","workspaces","{{WORKSPACE_ID}}","varsets"],"query":[{"key":"page[number]","value":"1"},{"key":"page[size]","value":"20"}]}}},
    {"name":"Create Varset (Organization)","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": {\n    \"type\": \"varsets\",\n    \"attributes\": {\n      \"name\": \"MyVarset\",\n      \"description\": \"Reusable vars\",\n      \"global\": false,\n      \"priority\": false\n    },\n    \"relationships\": {\n      \"workspaces\": {\n        \"data\": [\n          {\n            \"type\": \"workspaces\",\n            \"id\": \"{{WORKSPACE_ID}}\"\n          }\n        ]\n      },\n      \"vars\": {\n        \"data\": [\n          {\n            \"type\": \"vars\",\n            \"attributes\": {\n              \"key\": \"example\",\n              \"value\": \"value\",\n              \"category\": \"terraform\"\n            }\n          }\n        ]\n      },\n      \"parent\": {\n        \"data\": {\n          \"type\": \"organizations\",\n          \"id\": \"{{ORG_NAME}}\"\n        }\n      }\n    }\n  }\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/varsets","host":["{{BASE_URL}}"],"path":["api","v2","organizations","{{ORG_NAME}}","varsets"]}}},
    {"name":"Show Varset","request":{"method":"GET","url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}"]}}},
    {"name":"Update Varset","request":{"method":"PATCH","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": {\n    \"type\": \"varsets\",\n    \"attributes\": {\n      \"description\": \"Updated description\",\n      \"global\": false,\n      \"priority\": false\n    },\n    \"relationships\": {\n      \"workspaces\": {\n        \"data\": []\n      },\n      \"projects\": {\n        \"data\": []\n      }\n    }\n  }\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}"]}}},
    {"name":"Delete Varset","request":{"method":"DELETE","url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}"]}}},
    {"name":"List Variables in Varset","request":{"method":"GET","url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/vars","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","vars"]}}},
    {"name":"Add Variable to Varset","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": {\n    \"type\": \"vars\",\n    \"attributes\": {\n      \"key\": \"example\",\n      \"value\": \"value\",\n      \"description\": \"var in varset\",\n      \"sensitive\": false,\n      \"category\": \"terraform\",\n      \"hcl\": false\n    }\n  }\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/vars","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","vars"]}}},
    {"name":"Update Variable in Varset","request":{"method":"PATCH","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": {\n    \"type\": \"vars\",\n    \"attributes\": {\n      \"value\": \"new-value\"\n    }\n  }\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/vars/{{VAR_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","vars","{{VAR_ID}}"]}}},
    {"name":"Delete Variable from Varset","request":{"method":"DELETE","url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/vars/{{VAR_ID}}","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","vars","{{VAR_ID}}"]}}},
    {"name":"Apply Varset to Workspaces","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": [\n    { \"type\": \"workspaces\", \"id\": \"{{WORKSPACE_ID}}\" }\n  ]\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/workspaces","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","workspaces"]}}},
    {"name":"Remove Varset from Workspaces","request":{"method":"DELETE","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": [\n    { \"type\": \"workspaces\", \"id\": \"{{WORKSPACE_ID}}\" }\n  ]\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/workspaces","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","workspaces"]}}},
    {"name":"Apply Varset to Projects","request":{"method":"POST","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": [\n    { \"type\": \"projects\", \"id\": \"{{PROJECT_ID}}\" }\n  ]\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/projects","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","projects"]}}},
    {"name":"Remove Varset from Projects","request":{"method":"DELETE","header":[{"key":"Content-Type","value":"application/vnd.api+json"}],"body":{"mode":"raw","raw":"{\n  \"data\": [\n    { \"type\": \"projects\", \"id\": \"{{PROJECT_ID}}\" }\n  ]\n}\n"},"url":{"raw":"https://{{BASE_URL}}/api/v2/varsets/{{VARSET_ID}}/relationships/projects","host":["{{BASE_URL}}"],"path":["api","v2","varsets","{{VARSET_ID}}","relationships","projects"]}}}
  ]
}
