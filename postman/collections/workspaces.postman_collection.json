{
  "info": {
  "name": "Workspaces Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Workspaces, variables, team access, and resources"
  },
  
  "auth": { "type": "bearer", "bearer": [ { "key": "token", "value": "{{API_TOKEN}}", "type": "string" } ] },
  "item": [
    {
      "name": "Workspaces",
      "item": [
        { "name": "List Workspaces", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces?page[number]=1&page[size]=20", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces"], "query": [{"key":"page[number]","value":"1"},{"key":"page[size]","value":"20"}] } } },
        { "name": "Show Workspace (by ID)", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}"] } } },
        { "name": "Show Workspace (by Name)", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces/{{WORKSPACE_NAME}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces","{{WORKSPACE_NAME}}"] } } },
        { "name": "Create Workspace", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"workspaces\",\n    \"attributes\": {\n      \"name\": \"example-workspace\"\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces"] } } },
        { "name": "Update Workspace (by ID)", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"workspaces\",\n    \"attributes\": {\n      \"auto-apply\": false\n    },\n    \"relationships\": {\n      \"project\": {\n        \"data\": {\n          \"type\": \"projects\",\n          \"id\": \"{{PROJECT_ID}}\"\n        }\n      }\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}"] } } },
        { "name": "Update Workspace (by Name)", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"workspaces\",\n    \"attributes\": {\n      \"auto-apply\": false\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces/{{WORKSPACE_NAME}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces","{{WORKSPACE_NAME}}"] } } },
        { "name": "Safe Delete Workspace (by ID)", "request": { "method": "POST", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/actions/safe-delete", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","actions","safe-delete"] } } },
        { "name": "Safe Delete Workspace (by Name)", "request": { "method": "POST", "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces/{{WORKSPACE_NAME}}/actions/safe-delete", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces","{{WORKSPACE_NAME}}","actions","safe-delete"] } } },
        { "name": "Force Delete Workspace (by ID)", "request": { "method": "DELETE", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}"] } } },
        { "name": "Force Delete Workspace (by Name)", "request": { "method": "DELETE", "url": { "raw": "https://{{BASE_URL}}/api/v2/organizations/{{ORG_NAME}}/workspaces/{{WORKSPACE_NAME}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","organizations","{{ORG_NAME}}","workspaces","{{WORKSPACE_NAME}}"] } } },
        { "name": "Lock Workspace", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"reason\": \"Locking workspace\"\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/actions/lock", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","actions","lock"] } } },
        { "name": "Unlock Workspace", "request": { "method": "POST", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/actions/unlock", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","actions","unlock"] } } },
        { "name": "Force Unlock Workspace", "request": { "method": "POST", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/actions/force-unlock", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","actions","force-unlock"] } } }
      ]
    },
    {
      "name": "Data Retention Policy (TFE)",
      "item": [
        { "name": "Show Workspace Data Retention Policy", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/data-retention-policy", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","data-retention-policy"] } } },
        { "name": "Create/Update Workspace Data Retention Policy", "request": { "method": "POST", "header": [ { "key": "Content-Type", "value": "application/vnd.api+json" } ], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"data-retention-policy-delete-olders\",\n      \"attributes\": {\n      \"deleteOlderThanNDays\": 33\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/data-retention-policy", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","data-retention-policy"] } } },
        { "name": "Remove Workspace Data Retention Policy", "request": { "method": "DELETE", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/data-retention-policy", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","data-retention-policy"] } } }
      ]
    },
    {
      "name": "Workspace Variables",
      "item": [
        { "name": "List Variables (by Workspace)", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/vars", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","vars"] } } },
        { "name": "Create Variable (Workspace)", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"vars\",\n    \"attributes\": {\n      \"key\": \"example\",\n      \"value\": \"value\",\n      \"description\": \"Example variable\",\n      \"category\": \"terraform\",\n      \"hcl\": false,\n      \"sensitive\": false\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/vars", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","vars"] } } },
        { "name": "Update Variable (Workspace)", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"vars\",\n    \"id\": \"{{VARIABLE_ID}}\",\n    \"attributes\": {\n      \"value\": \"new-value\"\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/vars/{{VARIABLE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","vars","{{VARIABLE_ID}}"] } } },
        { "name": "Delete Variable (Workspace)", "request": { "method": "DELETE", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/vars/{{VARIABLE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","vars","{{VARIABLE_ID}}"] } } }
      ]
    },
    {
      "name": "Workspace Team Access",
      "item": [
        { "name": "List Team Access for Workspace", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/team-workspaces?filter%5Bworkspace%5D%5Bid%5D={{WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","team-workspaces"], "query": [{"key":"filter[workspace][id]","value":"{{WORKSPACE_ID}}"}] } } },
        { "name": "Show Team Access", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/team-workspaces/{{TEAM_WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","team-workspaces","{{TEAM_WORKSPACE_ID}}"] } } },
        { "name": "Add Team Access", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"team-workspaces\",\n    \"attributes\": {\n      \"access\": \"custom\",\n      \"runs\": \"apply\",\n      \"variables\": \"none\",\n      \"state-versions\": \"read-outputs\",\n      \"sentinel-mocks\": \"read\",\n      \"workspace-locking\": false,\n      \"run-tasks\": false\n    },\n    \"relationships\": {\n      \"workspace\": {\n        \"data\": {\n          \"type\": \"workspaces\",\n          \"id\": \"{{WORKSPACE_ID}}\"\n        }\n      },\n      \"team\": {\n        \"data\": {\n          \"type\": \"teams\",\n          \"id\": \"{{TEAM_ID}}\"\n        }\n      }\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/team-workspaces", "host": ["{{BASE_URL}}"], "path": ["api","v2","team-workspaces"] } } },
        { "name": "Update Team Access", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"attributes\": {\n      \"access\": \"custom\",\n      \"state-versions\": \"none\"\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/team-workspaces/{{TEAM_WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","team-workspaces","{{TEAM_WORKSPACE_ID}}"] } } },
        { "name": "Remove Team Access", "request": { "method": "DELETE", "url": { "raw": "https://{{BASE_URL}}/api/v2/team-workspaces/{{TEAM_WORKSPACE_ID}}", "host": ["{{BASE_URL}}"], "path": ["api","v2","team-workspaces","{{TEAM_WORKSPACE_ID}}"] } } }
      ]
    },
    {
      "name": "Workspace Resources",
      "item": [
        { "name": "Assign SSH Key", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"workspaces\",\n    \"attributes\": {\n      \"id\": \"{{SSH_KEY_ID}}\"\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/ssh-key", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","ssh-key"] } } },
        { "name": "Unassign SSH Key", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": {\n    \"type\": \"workspaces\",\n    \"attributes\": {\n      \"id\": null\n    }\n  }\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/ssh-key", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","ssh-key"] } } },
        { "name": "Get Remote State Consumers", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/remote-state-consumers", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","remote-state-consumers"] } } },
        { "name": "Replace Remote State Consumers", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"workspaces\",\n      \"id\": \"{{WORKSPACE_ID}}\"\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/remote-state-consumers", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","remote-state-consumers"] } } },
        { "name": "Add Remote State Consumers", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"workspaces\",\n      \"id\": \"{{WORKSPACE_ID}}\"\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/remote-state-consumers", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","remote-state-consumers"] } } },
        { "name": "Delete Remote State Consumers", "request": { "method": "DELETE", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"workspaces\",\n      \"id\": \"{{WORKSPACE_ID}}\"\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/remote-state-consumers", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","remote-state-consumers"] } } },
        { "name": "List Flat Tags", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/tags?page[number]=1&page[size]=20", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","tags"], "query": [{"key":"page[number]","value":"1"},{"key":"page[size]","value":"20"}] } } },
        { "name": "Add Flat Tags", "request": { "method": "POST", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"tags\",\n      \"attributes\": {\n        \"name\": \"foo\"\n      }\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/tags", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","tags"] } } },
        { "name": "Remove Flat Tags", "request": { "method": "DELETE", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"tags\",\n      \"attributes\": {\n        \"name\": \"foo\"\n      }\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/relationships/tags", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","relationships","tags"] } } },
        { "name": "List Tag Bindings", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/tag-bindings", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","tag-bindings"] } } },
        { "name": "List Effective Tag Bindings", "request": { "method": "GET", "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/effective-tag-bindings", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","effective-tag-bindings"] } } },
        { "name": "Add/Update Tag Bindings", "request": { "method": "PATCH", "header": [{"key":"Content-Type","value":"application/vnd.api+json"}], "body": { "mode": "raw", "raw": "{\n  \"data\": [\n    {\n      \"type\": \"tag-bindings\",\n      \"attributes\": {\n        \"key\": \"costcenter\",\n        \"value\": \"123\"\n      }\n    }\n  ]\n}\n" }, "url": { "raw": "https://{{BASE_URL}}/api/v2/workspaces/{{WORKSPACE_ID}}/tag-bindings", "host": ["{{BASE_URL}}"], "path": ["api","v2","workspaces","{{WORKSPACE_ID}}","tag-bindings"] } } }
      ]
    }
  ]
}
